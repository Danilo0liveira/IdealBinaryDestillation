import numpy as np

from scipy.optimize import fsolve, root
from column_model import column
from model_parameters import *
import matplotlib.pyplot as plt

#x0 = np.array([0.99008849, 0.99589266, 0.97336452, 0.92459564, 0.8586969,  0.78498677,
# 0.71162442, 0.6443316,  0.58403783, 0.53912247, 0.51047274, 0.49264268,
# 0.48135087, 0.47454236, 0.47262037, 0.47574182, 0.48174776, 0.49113148,
# 0.50205164, 0.51490017, 0.5285567,  0.54317562, 0.47372108, 0.3984908,
# 0.32441954, 0.25737735, 0.19892119, 0.15098583, 0.11341104, 0.08337024,
# 0.06187263, 0.04549585, 0.03376108, 0.02551144, 0.01919987, 0.01482956,
# 0.01122726, 0.00876283, 0.0066966,  0.00518271, 0.00395917])

x0 = np.random.random(num_stages)

x = root(column, x0, method='krylov')
print(x.x)
plt.plot(x.x)
plt.show()